// rule "Christmas Lights On at sunset"
// when
//   Channel "astro:sun:shifted:set#event" triggered START
// then
//   if (Garage_Outlet_Switch.state != ON) {
//     Garage_Outlet_Switch.sendCommand(ON)
//   }
//   Christmas_Outside.members.forEach [ i |
//     if (i.state != ON) {
//       i.sendCommand(ON)
//     }
//   ]
//
//   Christmas_Inside.members.forEach [ i |
//     if (i.state != ON) {
//       i.sendCommand(ON)
//     }
//   ]
// end

// rule "Christmas Nights off at end of day"
// when
//   Time cron "0 30 22 ? * *"
// then
//   if (Garage_Outlet_Switch.state != OFF) {
//     Garage_Outlet_Switch.sendCommand(OFF)
//   }
//   if (VisitorMode_Switch.state != ON) {
//     Christmas_Outside.members.forEach [ i |
//       if (i.state != OFF) {
//         i.sendCommand(OFF)
//       }
//     ]
//
//     Christmas_Inside.members.forEach [ i |
//       if (i.state != OFF) {
//         i.sendCommand(OFF)
//       }
//     ]
//
//     if (Basement_Wall_Outlet_Switch.state != OFF) {
//       Basement_Wall_Outlet_Switch.sendCommand(OFF)
//     }
//   }
// end

// rule "Christmas Switch is turned on"
// when
//   Item Christmas_Lights received command ON
// then
//   Christmas_Inside.members.forEach [ i |
//     if (i.state != ON) {
//       i.sendCommand(ON)
//     }
//   ]

//   // Kitchen_Echo_TTS.sendCommand("Merry Christmas!")
//   // Basement_Echo_TTS.sendCommand("Merry Christmas!")
// end

// rule "Christmas Switch is turned off"
// when
//   Item Christmas_Lights received command OFF
// then
//   Christmas_Inside.members.forEach [ i |
//     if (i.state != OFF) {
//       i.sendCommand(OFF)
//     }
//   ]
// end

// rule "when christmas lights turn on"
// when
//   Member of Christmas_Inside changed from OFF to ON
// then
//   if (Christmas_Inside.members.filter[ i | i.state != ON ].isEmpty()) {
//      Christmas_Lights.postUpdate(ON)
//   }
// end

// rule "when christmas lights turn off"
// when
//   Member of Christmas_Inside changed from ON to OFF
// then
//   Christmas_Lights.postUpdate(OFF)
// end

// rule "when all christmas switch turns on"
// when
//   Item Christmas_All_Lights received command ON
// then
//   Christmas_Lights.sendCommand(ON)
//   if (Basement_Wall_Outlet_Switch.state != ON)
//   {
//     Basement_Wall_Outlet_Switch.sendCommand(ON)
//   }
// end

// rule "when all christmas switch turns off"
// when
//   Item Christmas_All_Lights received command OFF
// then
//   Christmas_Lights.sendCommand(OFF)
//   if (Basement_Wall_Outlet_Switch.state != OFF)
//   {
//     Basement_Wall_Outlet_Switch.sendCommand(OFF)
//   }
// end

// rule "when all christmas lights turn on"
// when
//   Item Christmas_Lights changed from OFF to ON
//   or
//   Item Basement_Wall_Outlet_Switch changed from OFF to ON
// then
//   if (
//     Christmas_Lights.state == ON &&
//     Basement_Wall_Outlet_Switch.state == ON
//   ) {
//     Christmas_All_Lights.postUpdate(ON)
//   }
// end

// rule "when all christmas lights turn off"
// when
//   Item Christmas_Lights changed from ON to OFF
//   or
//   Item Basement_Wall_Outlet_Switch changed from ON to OFF
// then
//   Christmas_All_Lights.postUpdate(OFF)
// end
